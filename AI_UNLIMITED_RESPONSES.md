# üöÄ –ò–ò: –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

## ‚ùå –ß—Ç–æ –±—ã–ª–æ:

–ò–ò –æ—Ç–≤–µ—á–∞–ª **–º–∞–∫—Å–∏–º—É–º 2 —Ä–∞–∑–∞**, –ø–æ—Ç–æ–º –º–æ–ª—á–∞–ª:

```
–ö–ª–∏–µ–Ω—Ç: "–Ω–µ –º–æ–≥—É –≤—ã–≤–µ—Å—Ç–∏ –ø–æ–¥–∞—Ä–∫–∏"
–ò–ò: "–í—ã–≤–æ–¥ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è..." ‚úÖ (1/2)

–ö–ª–∏–µ–Ω—Ç: "–ë—Ä–µ–¥ –∫–∞–∫–æ–π-—Ç–æ"
–ò–ò: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ..." ‚úÖ (2/2)

–ö–ª–∏–µ–Ω—Ç: "–ù–µ –ø–æ–º–æ–≥–ª–æ"
–ò–ò: [–ú–û–õ–ß–ò–¢] ‚ùå (–ª–∏–º–∏—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç)
        ‚Üì
–û–ø–µ—Ä–∞—Ç–æ—Ä –ù–ï –æ—Ç–≤–µ—Ç–∏–ª ‚Üí –ö–ª–∏–µ–Ω—Ç –∂–¥–µ—Ç...
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, –∫–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–º–æ—â–∏!

---

## ‚úÖ –ß—Ç–æ —Å—Ç–∞–ª–æ:

–ò–ò –æ—Ç–≤–µ—á–∞–µ—Ç **–ë–ï–°–ö–û–ù–ï–ß–ù–û** –ø–æ–∫–∞ –Ω–µ –≤–º–µ—à–∞–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä:

```
–ö–ª–∏–µ–Ω—Ç: "–Ω–µ –º–æ–≥—É –≤—ã–≤–µ—Å—Ç–∏ –ø–æ–¥–∞—Ä–∫–∏"
–ò–ò: "–í—ã–≤–æ–¥ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è..." ‚úÖ

–ö–ª–∏–µ–Ω—Ç: "–ë—Ä–µ–¥ –∫–∞–∫–æ–π-—Ç–æ"
–ò–ò: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å..." ‚úÖ

–ö–ª–∏–µ–Ω—Ç: "–ù–µ –ø–æ–º–æ–≥–ª–æ"
–ò–ò: "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å..." ‚úÖ

–ö–ª–∏–µ–Ω—Ç: "–ë–∞–ª–∞–Ω—Å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π"
–ò–ò: "–°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π..." ‚úÖ

... (–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –¥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞)

üë®‚Äçüíº –û–ø–µ—Ä–∞—Ç–æ—Ä: "–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –ø—Ä–æ–≤–µ—Ä—è—é..."
        ‚Üì
–ò–ò: [–û–¢–ö–õ–Æ–ß–ê–ï–¢–°–Ø] ‚úÖ
```

---

## üéØ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

### ‚úÖ –ò–ò –æ—Ç–≤–µ—á–∞–µ—Ç –µ—Å–ª–∏:
- `human_responded = FALSE` (–æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ –≤–º–µ—à–∞–ª—Å—è)
- –ï—Å—Ç—å —Ç–µ–∫—Å—Ç –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
- –ù–ï –æ–±–Ω–∞—Ä—É–∂–µ–Ω –º–∞—Ç/—Å–∏–ª—å–Ω—ã–π –Ω–µ–≥–∞—Ç–∏–≤

### ‚ùå –ò–ò –ù–ï –æ—Ç–≤–µ—á–∞–µ—Ç –µ—Å–ª–∏:
- `human_responded = TRUE` (–æ–ø–µ—Ä–∞—Ç–æ—Ä –≤–∑—è–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- –û–±–Ω–∞—Ä—É–∂–µ–Ω –º–∞—Ç ‚Üí –ø–µ—Ä–µ–¥–∞—á–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É
- –ù–µ—Ç —Ç–µ–∫—Å—Ç–∞ (—Å—Ç–∏–∫–µ—Ä/–∞–Ω–∏–º–∞—Ü–∏—è)

---

## üìä –ù–æ–≤—ã–µ –ª–æ–≥–∏:

**–ë—ã–ª–æ:**
```
üìä AI response count: 2/2
üõë AI reached max responses (2), waiting for human operator
```

**–°—Ç–∞–ª–æ:**
```
üìä AI response count: 5 (unlimited until human responds)
üìû Calling ai_assistant.get_ai_response...
‚úÖ AI response received!
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ (–ª–∏–º–∏—Ç 2) | –°—Ç–∞–ª–æ (–±–µ–∑ –ª–∏–º–∏—Ç–∞) |
|----------|----------------|---------------------|
| –ò–ò –ø–æ–º–æ–≥–∞–µ—Ç | 2 —Å–æ–æ–±—â–µ–Ω–∏—è | –í—Å–µ–≥–¥–∞ ‚úÖ |
| –ö–ª–∏–µ–Ω—Ç –∂–¥–µ—Ç | –î–∞, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –∑–∞–Ω—è—Ç | –ù–µ—Ç ‚úÖ |
| –ö–∞—á–µ—Å—Ç–≤–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | –°—Ä–µ–¥–Ω–µ | –û—Ç–ª–∏—á–Ω–æ ‚úÖ |
| –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ | –í—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–∞—è ‚úÖ |

---

## ‚ö†Ô∏è –ö–æ–≥–¥–∞ –ò–ò –ø–µ—Ä–µ–¥–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É:

–ò–ò **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è** –∏ –ø–æ–º–µ—á–∞–µ—Ç `human_responded = TRUE` –µ—Å–ª–∏:

### 1. –û–±–Ω–∞—Ä—É–∂–µ–Ω –º–∞—Ç:
```python
if "–±–ª—è—Ç—å" in message or "—Ö—É–π" in message:
    # –ò–ò: "–ü–æ–Ω—è–ª –≤–∞—Å, —Å–µ–π—á–∞—Å —É—Ç–æ—á–Ω—é –¥–µ—Ç–∞–ª–∏"
    # human_responded = TRUE
    # –ò–ò –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```

### 2. –°–∏–ª—å–Ω—ã–π –Ω–µ–≥–∞—Ç–∏–≤:
```python
if "–º–æ—à–µ–Ω–Ω–∏–∫–∏" in message or "–æ–±–º–∞–Ω" in message:
    # –ü–µ—Ä–µ–¥–∞—á–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É
```

### 3. –î–æ–ª–≥–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ:
```python
if "–∂–¥—É —É–∂–µ 3 –¥–Ω—è" in message:
    # –ü–µ—Ä–µ–¥–∞—á–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É
```

### 4. –û–ø–µ—Ä–∞—Ç–æ—Ä —Å–∞–º –æ—Ç–≤–µ—Ç–∏–ª:
```python
# –û–ø–µ—Ä–∞—Ç–æ—Ä –ø–∏—à–µ—Ç –≤ —á–∞—Ç ‚Üí human_responded = TRUE –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –¢–µ—Å—Ç 1: –î–∏–∞–ª–æ–≥ —Å –ò–ò

```
–ö–ª–∏–µ–Ω—Ç: "–ö–∞–∫ –ø–æ–ø–æ–ª–Ω–∏—Ç—å?"
–ò–ò: "–ß–µ—Ä–µ–∑ Telegram Stars" ‚úÖ

–ö–ª–∏–µ–Ω—Ç: "–ê –≤—ã–≤–µ—Å—Ç–∏?"
–ò–ò: "–ß–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª –ü–æ–¥–∞—Ä–∫–∏" ‚úÖ

–ö–ª–∏–µ–Ω—Ç: "–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
–ò–ò: "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å" ‚úÖ

–ö–ª–∏–µ–Ω—Ç: "–ë–∞–ª–∞–Ω—Å –µ—Å—Ç—å"
–ò–ò: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å" ‚úÖ

... (–ò–ò –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ–º–æ–≥–∞—Ç—å)
```

### –¢–µ—Å—Ç 2: –û–ø–µ—Ä–∞—Ç–æ—Ä –≤–º–µ—à–∏–≤–∞–µ—Ç—Å—è

```
–ö–ª–∏–µ–Ω—Ç: "–ö–∞–∫ –ø–æ–ø–æ–ª–Ω–∏—Ç—å?"
–ò–ò: "–ß–µ—Ä–µ–∑ Telegram Stars" ‚úÖ

üë®‚Äçüíº –û–ø–µ—Ä–∞—Ç–æ—Ä: "–î–æ–±—Ä—ã–π –¥–µ–Ω—å!"
        ‚Üì
human_responded = TRUE

–ö–ª–∏–µ–Ω—Ç: "–ê –≤—ã–≤–µ—Å—Ç–∏?"
–ò–ò: [–ú–û–õ–ß–ò–¢] ‚úÖ (–æ–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç)
```

### –¢–µ—Å—Ç 3: –ú–∞—Ç ‚Üí –ø–µ—Ä–µ–¥–∞—á–∞

```
–ö–ª–∏–µ–Ω—Ç: "–ì–¥–µ –±–ª—è—Ç—å –º–æ–∏ –¥–µ–Ω—å–≥–∏?!"
–ò–ò: "–ü–æ–Ω—è–ª –≤–∞—Å, —Å–µ–π—á–∞—Å —É—Ç–æ—á–Ω—é –¥–µ—Ç–∞–ª–∏" ‚úÖ
        ‚Üì
human_responded = TRUE (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
        ‚Üì
–ò–ò –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```

---

## üéä –ò—Ç–æ–≥:

**–°–¢–ê–†–û–ï –ü–û–í–ï–î–ï–ù–ò–ï:**
```
–ò–ò ‚Üí 2 –æ—Ç–≤–µ—Ç–∞ ‚Üí –ú–û–õ–ß–ê–ù–ò–ï ‚Üí –ö–ª–∏–µ–Ω—Ç –∂–¥–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
```

**–ù–û–í–û–ï –ü–û–í–ï–î–ï–ù–ò–ï:**
```
–ò–ò ‚Üí ‚àû –æ—Ç–≤–µ—Ç–æ–≤ ‚Üí –ü–æ–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ –≤–º–µ—à–∞–µ—Ç—Å—è ‚Üí –û—Ç–ª–∏—á–Ω–æ!
```

---

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∏:

–í `.env` –±–æ–ª—å—à–µ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `AI_MAX_RESPONSES`:

```bash
# –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã:
# AI_MAX_RESPONSES=2  ‚Üê –£–î–ê–õ–ï–ù–û

# –û—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ:
AI_ENABLED=true
AI_AUTO_RESPOND=true
AI_MODEL=gpt-4o-mini
```

**–ò–ò —Ä–∞–±–æ—Ç–∞–µ—Ç –í–°–ï–ì–î–ê –ø–æ–∫–∞ `human_responded = FALSE`!**

---

## üöÄ –ì–û–¢–û–í–û!

‚úÖ –ò–ò –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ  
‚úÖ –ö–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –ø–æ–º–æ—â—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  
‚úÖ –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤–º–µ—à–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏  
‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ!

**üéâ –ö–õ–ò–ï–ù–¢–´ –ù–ò–ö–û–ì–î–ê –ù–ï –û–°–¢–ê–ù–£–¢–°–Ø –ë–ï–ó –û–¢–í–ï–¢–ê! üéâ**

