# ‚úÖ AI —Ç–µ–ø–µ—Ä—å –†–ï–ê–õ–¨–ù–û –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

## üéØ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞ –ë–´–õ–ê:
AI –ø–∏—Å–∞–ª "–Ø —É—Ç–æ—á–Ω—é —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å —É –∫–æ–ª–ª–µ–≥", –Ω–æ **–ù–ï –£–¢–û–ß–ù–Ø–õ** - —ç—Ç–æ –±—ã–ª –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç.

### –ü—Ä–æ–±–ª–µ–º–∞ –†–ï–®–ï–ù–ê:
–¢–µ–ø–µ—Ä—å –∫–æ–≥–¥–∞ AI –ø–∏—à–µ—Ç –ø—Ä–æ —ç—Å–∫–∞–ª–∞—Ü–∏—é - **—Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª—å–Ω–æ —ç—Å–∫–∞–ª–∏—Ä—É–µ—Ç** –∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É!

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. AI —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ø–∏—Å–∞—Ç—å –ø—Ä–æ —ç—Å–∫–∞–ª–∞—Ü–∏—é

**System Prompt –∏–∑–º–µ–Ω—ë–Ω:**

```
5. –ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å –æ—Ç–≤–µ—Ç–∞ ‚Üí –Ω–∞–ø–∏—à–∏: "–ü–µ—Ä–µ–¥–∞—é –≤–æ–ø—Ä–æ—Å –∫–æ–ª–ª–µ–≥–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏."
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `ai_wants_to_escalate()`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç AI –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏:

```python
def ai_wants_to_escalate(ai_response: str) -> bool:
    escalation_phrases = [
        "–ø–µ—Ä–µ–¥–∞—é", "–ø–µ—Ä–µ–¥–∞–º", "—É—Ç–æ—á–Ω—é", "—É—Ç–æ—á–Ω",
        "–∫–æ–ª–ª–µ–≥", "–∫–æ–ª–ª–µ–≥–µ", "—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç", "–æ–ø–µ—Ä–∞—Ç–æ—Ä",
        "–¥–µ—Ç–∞–ª—å–Ω", "—Ä–∞—Å—Å–º–æ—Ç—Ä"
    ]
    
    for phrase in escalation_phrases:
        if phrase in ai_response.lower():
            return True
    
    return False
```

### 3. –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ AI - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —ç—Å–∫–∞–ª–∞—Ü–∏—è

–ï—Å–ª–∏ AI –Ω–∞–ø–∏—Å–∞–ª –ø—Ä–æ —ç—Å–∫–∞–ª–∞—Ü–∏—é:

1. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–ª–µ—Ä—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É:
```
üö® –¢–†–ï–ë–£–ï–¢–°–Ø –û–ü–ï–†–ê–¢–û–†! üö®
‚ö†Ô∏è AI –ø–µ—Ä–µ–¥–∞–ª –≤–æ–ø—Ä–æ—Å –æ–ø–µ—Ä–∞—Ç–æ—Ä—É (–Ω–µ –∑–Ω–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞).
üìû –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø–æ–º–æ—â—å –∂–∏–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞!
üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞: ...
```

2. ‚úÖ –§–ª–∞–≥ `human_responded = TRUE`
3. ‚úÖ AI –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
4. ‚úÖ –û–ø–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –∞–ª–µ—Ä—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç

---

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä 1: AI –Ω–µ –∑–Ω–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "its wrong me have 2 accounts only"

AI –¥—É–º–∞–µ—Ç: –Ø –Ω–µ –∑–Ω–∞—é –∫–∞–∫ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —ç—Ç–æ
AI –ø–∏—à–µ—Ç: "–ü–µ—Ä–µ–¥–∞—é –≤–æ–ø—Ä–æ—Å –∫–æ–ª–ª–µ–≥–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏."

–°–∏—Å—Ç–µ–º–∞:
1. –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Å–ª–æ–≤–æ "–ø–µ—Ä–µ–¥–∞—é"
2. üîÑ AI wants to escalate - sending alert to operator
3. üö® Escalation alert sent to support chat
4. ‚úÖ Escalated to human operator
```

### –ü—Ä–∏–º–µ—Ä 2: AI –∑–Ω–∞–µ—Ç –æ—Ç–≤–µ—Ç

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ö–∞–∫ –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å?"

AI –ø–∏—à–µ—Ç: "–î–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª..."

–°–∏—Å—Ç–µ–º–∞:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç - –Ω–µ—Ç —Å–ª–æ–≤ —ç—Å–∫–∞–ª–∞—Ü–∏–∏
2. ‚úÖ AI responded flag set (–æ–±—ã—á–Ω—ã–π –æ—Ç–≤–µ—Ç)
3. AI –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ—Ç–≤–µ—á–∞—Ç—å
```

---

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞: –õ–∏–º–∏—Ç –æ—Ç–≤–µ—Ç–æ–≤

–ï—Å–ª–∏ AI —É–∂–µ –æ—Ç–≤–µ—Ç–∏–ª 3+ —Ä–∞–∑–∞ –±–µ–∑ –æ—Ç–≤–µ—Ç–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ - **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —ç—Å–∫–∞–ª–∞—Ü–∏—è**:

```
üìä AI response count: 3
üîÑ AI answered 3 times already, escalating to human operator
üö® Alert sent to support chat (AI response limit reached)
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå AI: "–Ø —É—Ç–æ—á–Ω—é —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å —É –∫–æ–ª–ª–µ–≥"
- ‚ùå –°–∏—Å—Ç–µ–º–∞: –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç
- ‚ùå –û–ø–µ—Ä–∞—Ç–æ—Ä: –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –∞–ª–µ—Ä—Ç
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø—Ä–∏–¥—ë—Ç

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ AI: "–ü–µ—Ä–µ–¥–∞—é –≤–æ–ø—Ä–æ—Å –∫–æ–ª–ª–µ–≥–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏"
- ‚úÖ –°–∏—Å—Ç–µ–º–∞: –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —ç—Å–∫–∞–ª–∞—Ü–∏—é
- ‚úÖ –û–ø–µ—Ä–∞—Ç–æ—Ä: –ø–æ–ª—É—á–∞–µ—Ç –∞–ª–µ—Ä—Ç üö®
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ø–æ–ª—É—á–∏—Ç –æ—Ç–≤–µ—Ç –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ù–µ–∑–Ω–∞–∫–æ–º—ã–π –≤–æ–ø—Ä–æ—Å

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —á—Ç–æ-—Ç–æ, –Ω–∞ —á—Ç–æ –æ–Ω –Ω–µ –∑–Ω–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞:
```
"its wrong me have 2 accounts only"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
1. AI –æ—Ç–≤–µ—Ç–∏—Ç: "–ü–µ—Ä–µ–¥–∞—é –≤–æ–ø—Ä–æ—Å –∫–æ–ª–ª–µ–≥–µ..."
2. –í –ª–æ–≥–∞—Ö: `üîÑ AI wants to escalate`
3. –í –ª–æ–≥–∞—Ö: `üö® Escalation alert sent`
4. –í —á–∞—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏: –∞–ª–µ—Ä—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É
5. AI –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–≤–µ—Ç–∏—Ç

### –¢–µ—Å—Ç 2: –ó–Ω–∞–∫–æ–º—ã–π –≤–æ–ø—Ä–æ—Å

```
"–ö–∞–∫ –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å?"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
1. AI –æ—Ç–≤–µ—Ç–∏—Ç –∏–∑ FAQ
2. –í –ª–æ–≥–∞—Ö: `‚úÖ AI responded flag set`
3. –ù–µ—Ç —ç—Å–∫–∞–ª–∞—Ü–∏–∏ (AI –∑–Ω–∞–µ—Ç –æ—Ç–≤–µ—Ç)

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `ai_assistant.py`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `ai_wants_to_escalate()`
- System prompt: —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ø–∏—Å–∞—Ç—å –ø—Ä–æ —ç—Å–∫–∞–ª–∞—Ü–∏—é
- –§—Ä–∞–∑–∞ –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞: "–ü–µ—Ä–µ–¥–∞—é –≤–æ–ø—Ä–æ—Å –∫–æ–ª–ª–µ–≥–µ"

### 2. `handlers.py`
- –ò–º–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `ai_wants_to_escalate`
- –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ AI - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —ç—Å–∫–∞–ª–∞—Ü–∏—é
- –ï—Å–ª–∏ —ç—Å–∫–∞–ª–∞—Ü–∏—è - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞ –∏ `human_responded = TRUE`
- –õ–∏–º–∏—Ç: –ø–æ—Å–ª–µ 3 –æ—Ç–≤–µ—Ç–æ–≤ AI - –∞–≤—Ç–æ—ç—Å–∫–∞–ª–∞—Ü–∏—è

---

## üéâ –ß–µ—Å—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

–¢–µ–ø–µ—Ä—å AI –ù–ï –í–†–Å–¢:
- ‚úÖ –û–±–µ—â–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å ‚Üí **—Ä–µ–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç**
- ‚úÖ –û–±–µ—â–∞–µ—Ç —É—Ç–æ—á–Ω–∏—Ç—å ‚Üí **–æ–ø–µ—Ä–∞—Ç–æ—Ä —É—Ç–æ—á–Ω–∏—Ç**
- ‚úÖ –ü–∏—à–µ—Ç "–∫–æ–ª–ª–µ–≥–µ" ‚Üí **–æ–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∞–ª–µ—Ä—Ç**

---

## –î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

26 –¥–µ–∫–∞–±—Ä—è 2025

